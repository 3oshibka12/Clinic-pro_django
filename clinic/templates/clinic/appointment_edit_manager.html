{% extends 'clinic/base.html' %}

{% block content %}
<div style="max-width: 600px; margin: 40px auto; padding: 20px; background: #fff; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
    <h2 style="text-align: center; color: #333;">✏️ Редактирование записи</h2>
    
    <div style="background: #e9ecef; padding: 15px; border-radius: 5px; margin-bottom: 20px;">
        <p><strong>Пациент:</strong> {{ appt.patient.full_name }}</p>
        <p><strong>Текущее время:</strong> {{ appt.visit_time|date:"d.m.Y H:i" }}</p>
    </div>

    <form method="post">
        {% csrf_token %}
        
        <!-- Выводим форму красиво -->
        <table style="width: 100%; border-spacing: 0 10px;">
            {% for field in form %}
            <tr>
                <td style="width: 30%; font-weight: bold; color: #555;">
                    {{ field.label_tag }}
                </td>
                <td>
                    {{ field }}
                    {% if field.errors %}
                        <div style="color: red; font-size: 0.9em;">{{ field.errors }}</div>
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </table>

        <div style="margin-top: 30px; text-align: center; display: flex; gap: 10px; justify-content: center;">
            <button type="submit" style="padding: 10px 25px; background: #28a745; color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 16px;">
                Сохранить
            </button>
            
            <a href="{% url 'manager_appointments' %}" style="padding: 10px 25px; background: #6c757d; color: white; text-decoration: none; border-radius: 5px; font-size: 16px;">
                Отмена
            </a>
        </div>
    </form>
</div>
{% endblock %}